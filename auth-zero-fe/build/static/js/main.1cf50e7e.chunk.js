(this["webpackJsonpauth-zero-fe"]=this["webpackJsonpauth-zero-fe"]||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"domain":"rob-s.auth0.com","clientId":"YgTs8JDJ39C75pjpIz9l0B7sp4iYwXhE","audience":"https://api.auth0poc.com"}')},23:function(e,t,n){e.exports=n(36)},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),i=n(1),l=n.n(i),u=n(6),s=n(12),p=n(20),d=n.n(p),h=function(){return window.history.replaceState({},document.title,window.location.pathname)},m=r.a.createContext(),f=function(){return Object(a.useContext)(m)},g=n(9),b=function(){var e=f(),t=e.isAuthenticated,n=e.loginWithRedirect,a=e.logout;return r.a.createElement("div",null,!t&&r.a.createElement("button",{onClick:function(){return n({})}},"Log in"),t&&r.a.createElement("button",{onClick:function(){return a()}},"Log out"),t&&r.a.createElement("span",null,r.a.createElement(g.a,{to:"/"},"Home"),"\xa0",r.a.createElement(g.a,{to:"/profile"},"Profile"),r.a.createElement(g.a,{to:"/external-api"},"External API")))},w=n(7),E=function(){var e=f(),t=e.loading,n=e.user;return t||!n?r.a.createElement("div",null,"Loading..."):r.a.createElement(a.Fragment,null,r.a.createElement("img",{src:n.picture,alt:"Profile"}),r.a.createElement("h2",null,n.name),r.a.createElement("p",null,n.email),r.a.createElement("code",null,JSON.stringify(n,null,2)))},v=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(u.a)(o,2),s=i[0],p=i[1],d=f().getTokenSilently;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"External API"),r.a.createElement("button",{onClick:function(){var e,t,n;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.a.awrap(d());case 3:return e=a.sent,a.next=6,l.a.awrap(fetch("/api/external",{headers:{Authorization:"Bearer ".concat(e)}}));case 6:return t=a.sent,a.next=9,l.a.awrap(t.json());case 9:n=a.sent,c(!0),p(n),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.error(a.t0);case 17:case"end":return a.stop()}}),null,null,[[0,14]])}},"Ping API"),n&&r.a.createElement("code",null,JSON.stringify(s,null,2)))},x=n(3),O=Object(x.a)(),k=function(e){var t=e.component,n=e.path,c=Object(s.a)(e,["component","path"]),o=f(),i=o.loading,u=o.isAuthenticated,p=o.loginWithRedirect;Object(a.useEffect)((function(){if(!i&&!u){l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(p({appState:{targetUrl:n}}));case 2:case"end":return e.stop()}}))}}),[i,u,p,n]);return r.a.createElement(w.a,Object.assign({path:n,render:function(e){return!0===u?r.a.createElement(t,e):null}},c))};var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w.b,{history:O},r.a.createElement("header",null,r.a.createElement(b,null)),r.a.createElement(w.c,null,r.a.createElement(w.a,{path:"/",exact:!0}),r.a.createElement(k,{path:"/profile",component:E}),r.a.createElement(k,{path:"/external-api",component:v}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=n(13);o.a.render(r.a.createElement((function(e){var t=e.children,n=e.onRedirectCallback,c=void 0===n?h:n,o=Object(s.a)(e,["children","onRedirectCallback"]),i=Object(a.useState)(),p=Object(u.a)(i,2),f=p[0],g=p[1],b=Object(a.useState)(),w=Object(u.a)(b,2),E=w[0],v=w[1],x=Object(a.useState)(),O=Object(u.a)(x,2),k=O[0],j=O[1],y=Object(a.useState)(!0),S=Object(u.a)(y,2),C=S[0],P=S[1],R=Object(a.useState)(!1),W=Object(u.a)(R,2),A=W[0],I=W[1];Object(a.useEffect)((function(){!function(){var e,t,n,a,r;l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,l.a.awrap(d()(o));case 2:if(e=i.sent,j(e),!window.location.search.includes("code=")){i.next=10;break}return i.next=7,l.a.awrap(e.handleRedirectCallback());case 7:t=i.sent,n=t.appState,c(n);case 10:return i.next=12,l.a.awrap(e.isAuthenticated());case 12:if(a=i.sent,g(a),!a){i.next=19;break}return i.next=17,l.a.awrap(e.getUser());case 17:r=i.sent,v(r);case 19:P(!1);case 20:case"end":return i.stop()}}))}()}),[]);return r.a.createElement(m.Provider,{value:{isAuthenticated:f,user:E,loading:C,popupOpen:A,loginWithPopup:function(){var e,t,n=arguments;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},I(!0),a.prev=2,a.next=5,l.a.awrap(k.loginWithPopup(e));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),console.error(a.t0);case 10:return a.prev=10,I(!1),a.finish(10);case 13:return a.next=15,l.a.awrap(k.getUser());case 15:t=a.sent,v(t),g(!0);case 18:case"end":return a.stop()}}),null,null,[[2,7,10,13]])},handleRedirectCallback:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return P(!0),t.next=3,l.a.awrap(k.handleRedirectCallback());case 3:return t.next=5,l.a.awrap(k.getUser());case 5:e=t.sent,P(!1),g(!0),v(e);case 9:case"end":return t.stop()}}))},getIdTokenClaims:function(){return k.getIdTokenClaims.apply(k,arguments)},loginWithRedirect:function(){return k.loginWithRedirect.apply(k,arguments)},getTokenSilently:function(){return k.getTokenSilently.apply(k,arguments)},getTokenWithPopup:function(){return k.getTokenWithPopup.apply(k,arguments)},logout:function(){return k.logout.apply(k,arguments)}}},t)}),{domain:y.domain,client_id:y.clientId,redirect_uri:window.location.origin,audience:y.audience,onRedirectCallback:function(e){O.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.1cf50e7e.chunk.js.map